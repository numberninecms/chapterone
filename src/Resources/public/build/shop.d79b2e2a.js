(self.webpackChunk=self.webpackChunk||[]).push([[523],{9035:(t,e,r)=>{"use strict";r(3948);var i=r(9016),o=r.n(i),s=r(8296),n=r.n(s);class l{constructor(t){this.options=t}format(t,e="$"){return n()(this.options.price_format,o()(t,0,this.options.price_decimal_separator,this.options.price_thousand_separator),e)}}class a{constructor(t){this.options=t}format(t,e=""){return n()("%s%s",o()(t,0,this.options.price_decimal_separator,this.options.price_thousand_separator),e)}}var d=r(4211),u=r.n(d);class c{constructor(t,e){this._min=t,this._max=e}get min(){return this._min}get max(){return this._max}toArray(){return[this._min,this._max]}}class h{constructor(t,e){var r;if(this.numberFormatter=e,this.sliderControl="string"==typeof t?document.querySelector(t):t,!this.sliderControl)return;this.sliderRange=new c(parseFloat(this.sliderControl.getAttribute("data-min")),parseFloat(this.sliderControl.getAttribute("data-max"))),this.sliderParent=this.sliderControl.parentElement;const i=parseFloat(this.sliderParent.querySelector(".nouislider-control-min").value),o=parseFloat(this.sliderParent.querySelector(".nouislider-control-max").value);this.valueRange=new c(isNaN(i)?this.sliderRange.min:i,isNaN(o)?this.sliderRange.max:o),u().create(this.sliderControl,{start:this.valueRange.toArray(),range:{min:this.sliderRange.min,max:this.sliderRange.max},behaviour:"drag",connect:!0,step:1}),null===(r=this.sliderControl.noUiSlider)||void 0===r||r.on("update",(t=>{var e,r,i,o;this.sliderParent.querySelector(".nouislider-label .from").innerHTML=this.numberFormatter.format(t[0],null===(r=null===(e=this.sliderControl)||void 0===e?void 0:e.attributes.getNamedItem("data-unit"))||void 0===r?void 0:r.value),this.sliderParent.querySelector(".nouislider-label .to").innerHTML=this.numberFormatter.format(t[1],null===(o=null===(i=this.sliderControl)||void 0===i?void 0:i.attributes.getNamedItem("data-unit"))||void 0===o?void 0:o.value),this.sliderParent.querySelector(".nouislider-control-min").value=t[0],this.sliderParent.querySelector(".nouislider-control-max").value=t[1]})),this.sliderControl.closest("form").onsubmit=()=>{var t,e,r,i,o,s;const n=this.sliderParent.querySelector(".nouislider-control-min"),l=this.sliderParent.querySelector(".nouislider-control-max");return parseInt(n.value,10)===Math.floor(null===(e=null===(t=this.sliderControl)||void 0===t?void 0:t.noUiSlider)||void 0===e?void 0:e.options.range.min)&&(null===(r=n.parentNode)||void 0===r||r.removeChild(n)),parseInt(l.value,10)===Math.ceil(null===(o=null===(i=this.sliderControl)||void 0===i?void 0:i.noUiSlider)||void 0===o?void 0:o.options.range.max)&&(null===(s=l.parentNode)||void 0===s||s.removeChild(l)),!0}}}var m=r(9669);r.n(m)().get("/api/commerce/price-format").then((t=>{var e;const r=t.data,i=document.querySelectorAll(".nouislider-control"),o=new l(r),s=new a(r);for(const t of i)new h(t,"price"===(null===(e=t.attributes.getNamedItem("data-type"))||void 0===e?void 0:e.value)?o:s)}),(()=>{})),new class{constructor(t='[name="product_sort_filter_form"]'){this.form=document.querySelector(t),this.form&&(this.select=this.form.querySelector("select"),this.select&&this.select.addEventListener("change",(()=>{"date-desc"===this.select.value&&this.select.removeAttribute("name"),this.form.submit()})))}}}},t=>{"use strict";t.O(0,[738],(()=>{return e=9035,t(t.s=e);var e}));t.O()}]);